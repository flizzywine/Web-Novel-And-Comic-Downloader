# web-novel-downloader
## 网络小说下载器

### 直接从小说网站下载全本小说, 避开广告, 自在阅读.

### 为什么要做一个小说下载器? 

1. 小说网站的广告太多, 如同流氓, 防不胜防. 
2. 小说有太多废话, 下载全文, 可以直接跳到想看的剧情, 节约时间. 

下载小说虽然是个很简单的任务, 但是我却找不到一个比较好的现成的工具,

它需要有如下特点:

- 没有广告
- 文本没有被故意切割成大量的章节, 而是下载成一个完整的文件
- 能够下载到在公开渠道不容易流传的文本(被和谐的书)
- 剔除杂七杂八的无效信息, 仅保留正文

因此我自己动手, 编写了这个程序, 一个十分简单, 但足够有效的工具. 

它具有以下功能:

- 自动寻找合适的编码

- 自动添加目录

- 自动提取标题与正文

- 自动为下载的文件命名

  

# Quick Start 

比如你需要下载 http://www.xiaoshuo/book/10086/100.html到

 http://www.xiaoshuo/book/10086/199.html 的所有页面, 剔除无效信息, 然后合并成一个文件.  那么试试这个.

```
python noveldown.py --urls  http://www.xiaoshuo/book/10086/[100-199].html
```

有时候仅仅一个URL是不够的, 

比如有一本书的URL分为两个部分 http://xiaoshuo/10088/abcd.html 和http://xiaoshuo/10088/abcd_[2-100].html 显然一个URL是没法满足这个规律的.  那么你就可以输入两个URL, 甚至更多, 不过一定要按照顺序, 下载器可没有能力分辨章节之间的顺序. 

```
python noveldown.py --urls http://xiaoshuo/10088/abcd.html http://www.xiaoshuo/10089/[2-100].html
```



# 配置

在大多数情况下, 你不需要自己动手做出任何配置.

下载器会自己检查当前页面的内容, 做出合理地选项, 但这并不总是成立.

有时候, 你需要自己查看页面源代码, 找到标题与正文被包裹在哪个标签中,

然后在命令行选项中指定它们, 为此, 你需要一点CSS选择器的知识.

下面是一个示范. 

```
python noveldown.py --urls xxxx --title 'h1' --body '.content'

```



![img](assets/66FE51ED41BFD5F1EC04692AAAA461D2.png?lastModify=1575634214)



# 可能的改进

这是一个简陋的下载器, 仅仅用于下载一些中短篇的小说, 还有以下地方可以继续改进.

1. 多线程下载, 目前的单线程既要下载, 又要处理格式化, 非常慢

2. 在中断之后只能重新下载, 不能继续下载

3. 目前只能提取静态内容, 如果小说是动态加载的话, 就没法下载

   



