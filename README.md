# Web-Novel-And-Comic-Downloader
# 网络小说与漫画下载器
这是一个自用的Python脚本，用来从网页上直接下载一些小说和漫画。
以后等稳定了，或许会写一个GUI版本，或者添加命令行接口，目前所有参数都通过代码配置。
为躲避反爬，会故意暂停，如果被断开连接会等待一段时间自动重连。
## 小说下载器
工作流程：输入URLs, 分析html文档内容，提取为txt格式。
需要配置的参数有：

1. Urls

   举例： `http://www.xiaoshuo/book/10086/[100-199].html`

2. Css 选择器

   会尝试自动找一些常用的选择器来定位标题，正文等信息。如果不行就手动更改。

3. 小说标题与保存位置

   如果不指定，会自动从章节标题里找。

## 漫画下载器
工作流程：也是输入Urls，分析得到img元素，下载img后保存到自动生成的文件夹中。

需要配置的参数：

1. Urls

`{}`是章节范围， `[]`是每一章内容的范围。
举例： `http://www.manhua/{10086-10099}/[1-199].html`
每章内容的URL从1开始，页数可以超出实际，会自动处理。

2. 漫画名字，漫画当前章节 

默认会自动生成

## TODO 
- 漫画下载器：允许自定义寻找img的规则
同一个页面也有很多img,通过先找到div的方法，得到子节点的img。

- 严谨的错误控制与处理系统。纪录log。
- 如何规避reset by peer?
- 换一个得到URL的方法？ 按照爬虫的思路，从“上一页”/“下一页”按钮中得到URL。



